# 자바의 역사

- JAVA의 시작
  1991년 썬(Sun)의 제임스 고슬링은 가전 제품용 소프트웨어 개발을 위해 적당한 언어를 선정하고 있었다. 당시의 가장 대중적인 언어인 C++은 소스 이식성은 있지만 이진 호환성이 없어 이기종의 시스템이 네트웍으로 연결된 분산 환경에는 적용하기 어려웠다. 또한 다중 상속이나 메모리 관리 기능이 복잡하여 소형 가전 제품에 쓰기는 너무 거대했다.
  
    자바의 시작은 1981년으로 거슬러 올라간다. 1991년에 "Green"이라는 프로젝트가 생기면서 자바의 모태가 탄생하기 시작했다. 제임스 고슬링(James Gosling, Mike Sheridan, Patrick Naughton) 이렇게 3명의 젊은이가 TV와 시청자가 서로 상호 작용 할 수 있는(interactive한) 것을 만들기 위해서 시작되었다. 지금은 IPTV와 같은 것이 일반적으로 대중화되어 있지만, 그때만해도 너무 앞서가는 것이었다. 1992년 고슬링의 사무실 앞에 있는 참나무를 보고 이름을 지은 "Oak"라는 언어다.
  
    1995년 "Oak"라는 언어의 이름이 커피의 한 종류를 뜻하는 "자바 커피"의 이름을 본따 "Java"라고 바뀌면서 자바 기술이 시작하게 되었다. 1995년에 자바 언어를 만들면서 "Write Once, Run Anywhere"(WORA)라는 모토가 만들어졌으며, 여러 플랫폼에서 수행할 수 있는 개발 언어를 목표로 개발되었다.
    Oak라는 이름이 이미 사용 중인 것을 보고 평소 좋아하던 커피 이름으로 바꿨다.

## 플랫폼 독립적인 언어
"Write Once Run Anywhere"

 - 어떤 운영체제에서든 실행이 가능하다. 원래는 운영 체제마다 다른 코드를 짜줘야 한다. Java는 같은 코드로 사용하다. 왜냐면? JVM 덕분이다. JVM에서 코드를 운영 체제에 맞게 해석하여 동작하도록 한다.
 a. 소스코드를 작성하고 저장하면,
    b. 소스코드로 *.java 파일로 저장된 상태다. 컴파일러가 컴파일을 진행한다. 소스코드가 바이트 코드로 전환된다. 이 때 파일의 확장자는 class, *.class이다.
    c. 바이트코드는 JVM에서 해석이 가능하다.
    d. Java가 OS에 맞는 JVM를 선정한 후 *.class에 저장된 바이트코드를 기계어로 번역한다.
    e. JVM이 번역한 기계어를 OS가 번역하여 CPU에 전달되고 화면을 송출한다.

 초기에는 토스트, 전자레인지 등의 가전제품 소프트웨어에 사용되었다.

## World Wide Web의 출연

- 웹은 새로운 플랫폼으로, 널리 사용되기 위해선 이식 가능한 언어를 필요로 했다. 때마침 Java는 형태가 완전히 굳어지지 않은 채 세부적인 내용이 개발되는 도중이었다.
Java가 어느 환경에서나 사용 가능하다는 특성을 지닌 탓에 컴퓨터 언어 설계 프로젝트의 선두로 부상하게 된다.
웹은 다양한 컴퓨터, 운영 체제, CPU 등이 사용되는 아주 광대한 분산형 시스템이다. 웹이 등장하기 전까지 우선수위에서 밀려났던 '이식성'의 중요성이 대두된 것이다.
자바는 아키텍처 중립적인 프로그래밍 언어로 설계되었고, 웹과 인터넷의 등장과 부흥으로 대성공을 거두었다.
1.  JAVA의 변화
폭발적으로 증가하는 인터넷의 수요에 부응하기 위해, 웹은 여러 환경에서 동작 가능한 이식성 높은 JAVA를 메인 언어로 채택하였다.
고객의 PC와 서비스를 제공하는 서버를 잇는 네트워크는 두 가지 종류의 객체를 전달한다. 하나는 수동적 정보이고, 다른 하나는 능동적 프로그램이다.
수동적 정보는 사용자가 이메일을 수신하는 이메일이나, 프로그램을 다운받을 때의 프로그램이다.
능동적 프로그램은 사용자의 PC에서 실행되지만, 서버에 의해 시작되었다.

![Untitled](%E1%84%91%E1%85%A1%E1%84%8B%E1%85%B5%E1%86%AF%20%E1%84%86%E1%85%A9%E1%84%8B%E1%85%B3%E1%86%B7%20abf40adcb0ef488f808282698a58a51a/Untitled.png)

> Java 언어는 JDK와 JRE로 나뉜다. JRE는 자바를 실행시키기 위한 환경 집합체이다. JRE는 자바에서 제공하는 라이브러리다.
> 

JRE(Java Runtime Environment)는 Java 애플리케이션을 실행하기 위한 Java Virtual Machine을 구현하는 환경이다.

JDK(Java Development Kit)은 Java 기반의 애플리케이션을 개발하는데 필요한 번들을 말한다. 

JVM, JRE, JDK는 플랫폼에 의존적이지만 JDK가 JVM를 동작시킬 수 있으므로, 플랫폼 독립적으로 실행될 수 있다.



능동적 프로그램일수록 이식성과 보안성에 문제가 생긴다. 자바는 이 문제를 해결하기 위해 '애플릿' 이라는 형식의 프로그램을 만들었다.



## Java의 웹에서의 역할

- 자바 애플릿
  (자바 애플릿은 속도가 너무 느려서 현재는 JavaScript등의 여러 기술이 등장하면서 사라짐.)
  플러그인의 한 종류로, 커다란 프로그램의 범위 내에서 실행되어 특정한 작업을 수행하는 작은 응용 프로그램이다. Java applet은 자바 바이트 코드 형태로 배포되는 애플릿이다.
  이 애플릿은 보안을 위해 고안되었다. 자바는 사용자의 컴퓨터와 어플리케이션 사이에 방화벽을 세워 제한된 자바 실행 환경 안에서만 자바 프로그램이 동작하도록 한다.
  이는 만약 감염된 프로그램이 동작할 때 사용자의 민감한 정보에 접근하는 것을 방지하는 역할을 한다. 물론 보안성을 위해 고안되긴 했지만 자주 뚫렸다.

- 자바 에플릿을 기반으로 만들어진 웹 페이지가 있다고 하자. 사용자가 해당 페이지를 로드하면 자바 에플릿은 독자적인 자바 환경을 만들고 실행시킨다.
  다시 말해, 자바로 작성한 프로그램을 미리 업로드하고 브라우저 상에서 불러와 실행시키는 역할을 한다.
  이러한 방식은 울분의 대상이었던 액티브X, 어도비 플래시와 비슷해보이나 자바 애플릿은 프로그램을 JVM 위에서 실행시킨다는 차이점이 있다.
  그럼 이제 브라우저와 Java runtime 환경이 동시에 실행되고 호환되고 유지되어야 한다. 과거에 페이지가 빠르게 load되지 않은 이유이다.
  이러한 동작 방식은 사용자 입장에서도 만족스럽지 않고, 서비스를 제공하는 입장에서도 만족스럽지 않다. 개발자들은 이를 두고 'ugly' 하다고 평했다.
  여전히 애플릿을 사용하는 브라우저가 있으나, 애플릿과 flash가 사라지고 java script로 대체된 데에는 다 이유가 있다.
  어찌 되었든 애플릿은 플러그인의 한 종류고, 한 환경 내에서 다른 동작을 수행하는 목적으로 동작한다.
  
    이 후 자바 애플릿은 지원이 중단되었고 Java Web Start가 대신 사용된다.
  
  

## Java의 다섯가지 특징

1. It should be "simple, object-oriented and familiar"
    - 단순성
    - 객체 지향적
        - 다형성, 캡슐화 등
    - 친숙함
        - 개발에 필요한 기능을 API로 제공함 (File I/O, 그래프 UI 등)

2. It should be "robust and secure"

   - 견고함
       - 컴파일와 실행 시 문법적 오류를 체크함
       - 메모리 관리 모델이 단순함
       - 포인터가 없다!

   - 보안성
       - 분산 환경에 적합하도록 디자인 되어있다. → 보안성이 좋다.

3. It should be "architecture-neutral and poratble"

   - 아키텍처 중립적
       - 다양한 하드웨어 아키텍처에서 실행될 수 있다.
       - 중립적인 바이트 코드를 제공한다.
       
       - 이식성
           - 자바 버전이 동일하다면 동일 프로그램은 어떤 플랫폼에서도 실행 가능하다.

   - JVM 덕분이다.

4. It should execute with "high performance"
   - 높은 성능
       - 가비지 컬렉터가 자동화되어있다.
       - 가비지 컬렉터가 낮은 우선 순위의 쓰레드로 동작한다.

5. It should be "interpreted, threaded, and dynamic"

   - 인터프리터 언어이다.
       - 자바 인터프리터는 바이트 코드를 해석해, 어떤 장비에서도 동작하도록 한다.
       
       - 쓰레드를 제공한다.
           - 멀티 쓰레드를 제공하여 여러 작업을 동시에 수행한다.
           - 이 때문에 사용 환경이 빠르다.

   - 동적 언어다.
       - 컴파일 시에는 엄격하게 정적으로 오류를 점검한다.
         - 실행 시에는 동적으로 필요한 프로그램을 링크한다.
         - 새로운 코드는 다양한 소스 코드에 요쳥되어 연결될 수 있다.

## JIT 컴파일러

- 컴퓨터 프로그램 동작 방식은 크게 두 가지로 나뉜다. 인터프리터(Interpreter) 방식과 정적(Static) 방식. 인터프리터 방식은 프로그램을 실행할 때마다 컴퓨터가 이해할 수 있는 언어로 변환한다. 즉, 개발자 입장에서는 간편하지만 성능 자체는 느리다. 정적 방식은 컴퓨터 언어 변환 방식을 미리 실행한다. 그러므로 변환 작업은 딱 한번만 수행된다.

- JIT은 인터프리터 방식과 정적 방식의 장점을 혼합했다. 언어 변환 작업은 인터프리터에 의해 지속적으로 수해오디나, 필요한 코드의 정보는 캐시에 담아두어 재사용한다.

- JIT은 Just In Time, 쉽게 말하면 ‘동적 변환’이라는 뜻이다. JIT을 사용하는 언어에는 NET이나 Java가 있다. 프로그램을 보다 빠르게 실행하기 위해 고안되었다. 컴파일러라고는 하는데 실행 할 때 적용되는 기술이다.

- javac 명령어로 생성된 class 파일은 어느 OS에서나 사용될 수 있는 바이트 코드이다. 해당 바이트 코드를 OS에서 사용하려면 재변환 작업이 필요한데, JIT 컴파일러에서 해준다.

![Untitled](%E1%84%91%E1%85%A1%E1%84%8B%E1%85%B5%E1%86%AF%20%E1%84%86%E1%85%A9%E1%84%8B%E1%85%B3%E1%86%B7%20abf40adcb0ef488f808282698a58a51a/Untitled%201.png)

## JVM

- Java Virtual Machine(자바 가상 머신) : 자바 프로그램 수행 프로세스를 의미한다.

- java 명령어가 어플리케이션에서 수행되면, JVM위에서 동작한다.

- JVM안에는 GC가 있는데, 메모리 관리를 해준다.

- 사용자가 객체를 생성하고 사용을 마치면 메모리에서 삭제되어야 한다. C 언어를 이용한 개발을 할 때는 메모리를 직접 해체해줘야 했지만, Java에서는 GC가 자동적으로 해준다.

## GC(Garbage Collector)

- minor, GC(Garbage Collection)
    - GC는 Young Generation의 Eden, Survivor1, Survivor2와
    - Old Generation의 Tenured,
        - Generation 영역에는 객체가 저장된다.
    - Method Area의 Permanent로 나눌 수 있다.
        - 이 영역에는 클래스, 메소드의 정보가 저장된다.
    - 동작 과정은 아래와 같다.
        - Eden에 객체가 생성된다.
        - Eden이 가득 차서 Survivor 영역으로 객체를 복사하고 Eden의 영역을 확보한다.
        - Survivor가 가득 차면 다른 Survivor 영역으로 복사한다. 이 때, Survivor 영역의 둘 중 하나는 반드시 비어있어야 한다.

- major, Full GC(Full Garbage Collection)
    - 오래 살아있는 객체들은 Old Generation 영역으로 이동한다.
      - 계속 이동하다 Old 영역이 가득차면 Garbage Collection이 발생한다.

![Untitled](%E1%84%91%E1%85%A1%E1%84%8B%E1%85%B5%E1%86%AF%20%E1%84%86%E1%85%A9%E1%84%8B%E1%85%B3%E1%86%B7%20abf40adcb0ef488f808282698a58a51a/Untitled%202.png)



# Java EE

애플릿 서비스 지원이 여러 이유로 중단되었지만, 자바는 여전히 웹 개발에 큰 축을 담당하고 있다. 개량품으로 등장한 것이 J2EE 플랫폼이다.

- Java EE
  웹 응용 프로그램 개발을 위해 웹 관련 기술을 결합한 버전을 EE라고 한다. EE는 Enterprise Edition의 줄임말이다.

- Java SE에 대하여
  응용 프로그램 개발에 사용되는 표준 자바이다. SE는 Standard Edition의 줄임말이다.

# 정리

1. 자바는 여러 CPU, OS 등 환경에 구애받지 않는 '플랫폼 독립적 언어'를 목적으로 만들어졌다. WORA의 정신이다.
2. 인터넷은 다양한 컴퓨터, 운영 체제, CPU가 존재한 거대한 분산형 시스템이다.
3. 초기 가전제품에 사용되던 자바는 이식성의 문제를 앓던 인터넷에도 적용될 수 있었다.
4. 우여곡절을 거쳐 자바와 인터넷은 함께 발전해왔다.